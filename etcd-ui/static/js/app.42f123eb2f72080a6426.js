webpackJsonp([1],{CFvj:function(e,t){},"EL+Z":function(e,t){},GODQ:function(e,t){},I62s:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),r={name:"v-view",props:{data:Object,visible:Boolean},methods:{handleClose:function(){this.$emit("close")}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{top:"10vh",title:"详情",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("tree-view",{staticStyle:{"padding-bottom":"20px"},attrs:{data:e.data,options:{maxDepth:1}}})],1)},staticRenderFns:[]};var s=a("VU/8")(r,n,!1,function(e){a("CFvj")},"data-v-ba5773f4",null).exports,l={name:"v-deployment",props:{data:Array},methods:{tableRowClassName:function(e){e.row,e.rowIndex;return""},formatAge:function(e){var t=new Date,a=t.getMonth()+1,o=t.getDate();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var r=t.getFullYear()+"-"+a+"-"+o,n=e.indexOf("T"),s=e.substring(0,n);return(new Date(r)-new Date(s))/864e5+"d"},describe:function(e){this.$emit("setSource",e)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,height:"600",border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"metadata.name",label:"NAME",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.replicas",label:"DESIRED",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.replicas",label:"CURRENT",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.updatedReplicas",label:"UP-TO-DATE",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.availableReplicas",label:"AVAILABLE",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"AGE",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.metadata.creationTimestamp?a("div",[e._v("\r\n            "+e._s(e.formatAge(t.row.metadata.creationTimestamp))+" \r\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.template.spec.containers[0].name",label:"CONTAINERS",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.template.spec.containers[0].image",label:"IMAGES",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"SELECTOR",label:"SELECTOR",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.spec.selector.matchLabels?a("div",[e._v("\r\n            "+e._s(t.row.spec.selector.matchLabels)+" \r\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"operation",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.describe(t.row)}}},[e._v("describe")])],1)]}}])})],1)},staticRenderFns:[]};var c=a("VU/8")(l,i,!1,function(e){a("EL+Z")},"data-v-24496f6b",null).exports,d={name:"v-daemonset",props:{data:Array},methods:{formatAge:function(e){var t=new Date,a=t.getMonth()+1,o=t.getDate();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var r=t.getFullYear()+"-"+a+"-"+o,n=e.indexOf("T"),s=e.substring(0,n);return(new Date(r)-new Date(s))/864e5+"d"},describe:function(e){this.$emit("setSource",e)}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,height:"600",border:""}},[a("el-table-column",{attrs:{prop:"metadata.name",label:"NAME",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.desiredNumberScheduled",label:"DESIRED",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.currentNumberScheduled",label:"CURRENT",width:"85"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.numberReady",label:"READY",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.updatedNumberScheduled",label:"UP-TO-DATE",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.numberAvailable",label:"AVAILABLE",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nodeselect",label:"NODE SELECTOR",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.spec.template.spec.hostNetwork?a("div",[e._v("\r\n            "+e._s(t.row.spec.template.spec.nodeSelector)+" \r\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"AGE",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.metadata.creationTimestamp?a("div",[e._v("\r\n            "+e._s(e.formatAge(t.row.metadata.creationTimestamp))+" \r\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.template.spec.containers[0].name",label:"CONTAINERS",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.template.spec.containers[0].image",label:"IMAGES",width:"150","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"SELECTOR",label:"SELECTOR",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.spec.selector.matchLabels?a("div",[e._v("\r\n            "+e._s(t.row.spec.selector.matchLabels)+" \r\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"operation",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.describe(t.row)}}},[e._v("describe")])],1)]}}])})],1)},staticRenderFns:[]};var p=a("VU/8")(d,u,!1,function(e){a("GODQ")},"data-v-f013c15c",null).exports,m={name:"v-daemonset",props:{data:Array},methods:{formatAge:function(e){var t=new Date,a=t.getMonth()+1,o=t.getDate();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var r=t.getFullYear()+"-"+a+"-"+o,n=e.indexOf("T"),s=e.substring(0,n);return(new Date(r)-new Date(s))/864e5+"d"},formatReady:function(e){var t=0;return e.forEach(function(e){e.ready&&t++},this),t+"/"+e.length},describe:function(e){this.$emit("setSource",e)}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,height:"600",border:""}},[a("el-table-column",{attrs:{prop:"metadata.name",label:"NAME",width:"240","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"Ready",label:"READY",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status.containerStatuses?a("div",[e._v("\r\n                "+e._s(e.formatReady(t.row.status.containerStatuses))+" \r\n            ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status.phase",label:"STATUS",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.containerStatuses[0].restartCount",label:"RESTARTS",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"AGE",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.metadata.creationTimestamp?a("div",[e._v("\r\n                "+e._s(e.formatAge(t.row.metadata.creationTimestamp))+" \r\n            ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status.podIP",label:"IP",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.nodeName",label:"NODE",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"operation",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.describe(t.row)}}},[e._v("describe")])],1)]}}])})],1)},staticRenderFns:[]};var f=a("VU/8")(m,b,!1,function(e){a("OCIE")},"data-v-de458220",null).exports,v={name:"v-daemonset",props:{data:Array},methods:{formatAge:function(e){var t=new Date,a=t.getMonth()+1,o=t.getDate();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var r=t.getFullYear()+"-"+a+"-"+o,n=e.indexOf("T"),s=e.substring(0,n);return(new Date(r)-new Date(s))/864e5+"d"},formatPort:function(e){var t="";return e.forEach(function(e){""!=t&&(t=t+","+e.port+":"+e.nodePort+"/"+e.protocol)},this),t},describe:function(e){this.$emit("setSource",e)}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,height:"600",border:""}},[a("el-table-column",{attrs:{prop:"metadata.name",label:"NAME",width:"200","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.type",label:"TYPE",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.clusterIP",label:"CLUSTER-IP",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"EXTERNAL-IP",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.podIP",label:"PORT(S)",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.spec.ports?a("div",[e._v("\r\n                "+e._s(e.formatPort(t.row.spec.ports))+" \r\n            ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"AGE",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.metadata.creationTimestamp?a("div",[e._v("\r\n                "+e._s(e.formatAge(t.row.metadata.creationTimestamp))+" \r\n            ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.selector",label:"SELECTOR",width:"200","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.spec.selector?a("div",[e._v("\r\n            "+e._s(t.row.spec.selector)+" \r\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"operation",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.describe(t.row)}}},[e._v("describe")])],1)]}}])})],1)},staticRenderFns:[]};var w=a("VU/8")(v,h,!1,function(e){a("b4zx")},"data-v-661f6fa8",null).exports,_={name:"v-daemonset",props:{data:Array},methods:{getAge:function(e){var t=new Date,a=t.getMonth()+1,o=t.getDate();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var r=t.getFullYear()+"-"+a+"-"+o,n=e.indexOf("T"),s=e.substring(0,n);return(new Date(r)-new Date(s))/864e5+"d"},formatPort:function(e){var t="";return e.forEach(function(e){""!=t&&(t=t+","+e.port+":"+e.nodePort+"/"+e.protocol)},this),t},describe:function(e){this.$emit("setSource",e)}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,height:"600",border:""}},[a("el-table-column",{attrs:{prop:"metadata.name",label:"NAME",width:"200","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.type",label:"HOSTS",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.clusterIP",label:"ADDRESS",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status.podIP",label:"PORTS",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.spec.ports?a("div",[e._v("\r\n                "+e._s(e.formatPort(t.row.spec.ports))+" \r\n            ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"AGE",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.metadata.creationTimestamp?a("div",[e._v("\r\n                "+e._s(e.getAge(t.row.metadata.creationTimestamp))+" \r\n            ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"spec.selector",label:"SELECTOR",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"operation",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){e.describe(t.row)}}},[e._v("describe")])],1)]}}])})],1)},staticRenderFns:[]};var S={name:"app",components:{VView:s,VDeployment:c,VDaemonset:p,VPod:f,VService:w,VIngress:a("VU/8")(_,g,!1,function(e){a("I62s")},"data-v-0f91ab60",null).exports},data:function(){return{namespace:"default",kind:"deployment",deployments:[],daemonsets:[],pods:[],services:[],ingresses:[],dialogVisible:!1,activeName:"deployment",jsonSource:{},defaultProps:{children:"children",label:"label"},data:[]}},methods:{queryNamespacce:function(){var e=this;e.isLoading=!0,e.$axios.get("/namespace").then(function(t){e.data=t.data})},queryKind:function(){var e=this,t="/"+e.kind,a={namespace:e.namespace};e.$axios.post(t,a).then(function(t){switch(e.kind){case"deployment":e.deployments=t.data;break;case"daemonset":e.daemonsets=t.data;break;case"pod":e.pods=t.data;break;case"service":e.services=t.data;break;case"ingress":e.ingresses=t.data}})},setSource:function(e){console.log(e),this.dialogVisible=!0,this.jsonSource=e},close:function(){this.dialogVisible=!1},remove:function(e,t){var a=e.parent,o=a.data.children||a.data,r=o.findIndex(function(e){return e.id===t.id});o.splice(r,1)},handleNodeClick:function(e){this.jsonSource="",this.jsonSource=e.data,this.namespace=e.label},tabClick:function(e,t){this.kind=e.name}},watch:{namespace:function(e){this.queryKind()},kind:function(e){this.queryKind()}},mounted:function(){this.queryNamespacce(),this.queryKind()}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-menu",{attrs:{"background-color":"#545c64","text-color":"#ffd04b","active-text-color":"#ffd04b",mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"1"}},[e._v("Kubernetes-Etcd-Browser")])],1),e._v(" "),a("el-row",{staticStyle:{height:"100%"}},[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"ns-title"},[a("p",{staticClass:"ns-title-span"},[e._v("当前命名空间")])]),e._v(" "),a("el-tree",{attrs:{data:e.data,props:e.defaultProps,"highlight-current":!0},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),a("el-col",{attrs:{span:21}},[a("el-tabs",{attrs:{type:"border-card",size:"mini"},on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Deployment",name:"deployment"}},[a("v-deployment",{attrs:{data:e.deployments},on:{setSource:e.setSource}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Daemonset",name:"daemonset"}},[a("v-daemonset",{attrs:{data:e.daemonsets},on:{setSource:e.setSource}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Pod",name:"pod"}},[a("v-pod",{attrs:{data:e.pods},on:{setSource:e.setSource}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Service",name:"service"}},[a("v-service",{attrs:{data:e.services},on:{setSource:e.setSource}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Ingress",name:"ingress"}},[a("v-ingress",{attrs:{data:e.ingresses},on:{setSource:e.setSource}})],1)],1)],1)],1),e._v(" "),a("v-view",{attrs:{data:e.jsonSource,visible:e.dialogVisible},on:{close:e.close}})],1)},staticRenderFns:[]};var y=a("VU/8")(S,E,!1,function(e){a("zsUD")},"data-v-3c0b1c16",null).exports,R=a("/ocq");o.default.use(R.a);var A=new R.a({routes:[]}),T=a("mtWM"),D=a.n(T),k=a("zL8q"),x=a.n(k),O=(a("tvR6"),a("efYS")),N=a.n(O);a("d4tr");o.default.use(x.a),o.default.use(N.a),o.default.config.productionTip=!1,D.a.defaults.baseURL="http://localhost:8080/",o.default.prototype.$axios=D.a,Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},new o.default({el:"#app",router:A,components:{App:y},template:"<App/>"})},OCIE:function(e,t){},b4zx:function(e,t){},d4tr:function(e,t){},tvR6:function(e,t){},zsUD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.42f123eb2f72080a6426.js.map